<html>
  <head>
     <title>Bài 4</title>
  </head>
  <body>
    <script src="https://www.lactame.com/lib/ml/3.2.0/ml.min.js"></script>
    <script>
      //Bước 1
      X = new ML.Matrix([[5000.0,20000.0,22960.0,35945.94594594595,2.0,2000.0,18000.0],
[3333.3333333333335,15000.0,25312.0,36250.0,1.0,1700.0,32000.0],
[8181.818181818182,30000.0,45438.4,87500.0,1.0,1700.0,22000.0],
[18000.0,49999.99999999999,44508.8,35875.0,2.0,2000.0,10000.0],
[2727.2727272727275,60000.0,75118.4,36590.90909090909,1.0,1500.0,36000.0],
[3214.285714285714,24999.999999999996,30598.4,36296.2962962963,5.0,2000.0,28000.0],
[1285.7142857142858,20000.0,25961.6,36346.153846153844,1.0,1700.0,10000.0],
[5000.0,15000.0,21772.800000000003,36129.032258064515,2.0,2000.0,26000.0],
[3600.0,49999.99999999999,54656.0,36060.606060606064,3.0,2000.0,43000.0],
[3913.0434782608695,20000.0,24494.4,36129.032258064515,3.0,2000.0,46000.0],
[30000.0,49999.99999999999,43680.0,36206.89655172414,1.0,2000.0,34000.0],
[3000.0,15000.0,16800.0,87500.0,2.0,1700.0,34000.0],
[12857.142857142857,30000.0,47118.4,38888.88888888889,6.0,2000.0,22000.0],
[1730.7692307692307,99999.99999999999,68163.2,35744.68085106383,1.0,1500.0,20000.0],
[5625.0,15000.0,12980.8,36060.606060606064,2.0,1700.0,20000.0],
[4736.8421052631575,30000.0,52124.799999999996,40833.333333333336,2.0,1700.0,60000.0],
[2250.0,90000.0,84000.0,36400.0,14.0,2000.0,22000.0],
[90000.0,49999.99999999999,45483.2,36666.666666666664,2.0,2000.0,50000.0],
[45000.0,60000.0,73393.6,36750.0,2.0,1700.0,22000.0],
[90000.0,15000.0,29568.0,36060.606060606064,2.0,1700.0,13000.0],
[3750.0,20000.0,29209.6,36842.10526315789,2.0,1700.0,12000.0],
[9000.0,90000.0,86016.0,35760.86956521739,2.0,2000.0,42000.0],
[5625.0,20000.0,24304.0,36944.444444444445,10.0,2000.0,34000.0],
[45000.0,20000.0,30800.0,35729.166666666664,5.0,2000.0,19000.0],
[18000.0,20000.0,24225.6,35945.94594594595,13.0,2000.0,42000.0],
[4500.0,15000.0,18547.199999999997,36666.666666666664,2.0,1700.0,20000.0],
[12857.142857142857,24999.999999999996,29456.0,36093.75,2.0,2000.0,21000.0],
[45000.0,49999.99999999999,44732.799999999996,35700.0,4.0,2000.0,34000.0],
[5000.0,20000.0,24427.199999999997,36944.444444444445,1.0,1700.0,14000.0],
[8181.818181818182,15000.0,16856.0,42000.0,2.0,1700.0,23000.0],
[4285.714285714285,20000.0,17931.2,36093.75,2.0,1700.0,15000.0],
[8181.818181818182,49999.99999999999,38808.0,36029.41176470588,1.0,1700.0,30000.0],
[11250.0,60000.0,63739.2,43750.0,10.0,2000.0,48000.0],
[6000.0,15000.0,15680.0,35921.05263157895,2.0,2000.0,22000.0],
[22500.0,20000.0,25032.0,37692.307692307695,2.0,1700.0,10000.0],
[4090.909090909091,24999.999999999996,33756.8,52500.0,2.0,1700.0,44000.0],
[15000.0,20000.0,23307.199999999997,37500.0,3.0,2000.0,13000.0],
[9000.0,20000.0,29355.2,46666.666666666664,11.0,2000.0,43000.0],
[5294.117647058823,30000.0,67278.4,36944.444444444445,7.0,2000.0,43000.0],
[5625.0,20000.0,24662.399999999998,36944.444444444445,1.0,1700.0,24000.0],
[4736.8421052631575,15000.0,20865.6,36129.032258064515,2.0,1700.0,14000.0],
[30000.0,24999.999999999996,41731.2,42000.0,10.0,2000.0,34000.0],
[1914.8936170212767,20000.0,19084.8,35897.4358974359,2.0,1700.0,17000.0],
[8181.818181818182,49999.99999999999,44016.0,36296.2962962963,2.0,2000.0,18000.0],
[9000.0,20000.0,15456.0,36029.41176470588,1.0,1700.0,19000.0],
[22500.0,30000.0,45080.0,40833.333333333336,2.0,1700.0,28000.0],
[6000.0,20000.0,22892.800000000003,37333.333333333336,7.0,2000.0,54000.0],
[1000.0,75000.0,60480.0,36458.333333333336,2.0,1700.0,24000.0],
[5294.117647058823,15000.0,29668.8,35700.0,1.0,1700.0,20000.0],
[7500.0,49999.99999999999,57657.6,36000.0,3.0,2000.0,44000.0],
[4736.8421052631575,20000.0,18121.6,36206.89655172414,2.0,1700.0,2000.0],
[4500.0,20000.0,20462.399999999998,36250.0,4.0,2000.0,13000.0],
[12857.142857142857,34999.99999999999,63190.4,40000.0,14.0,2000.0,60000.0],
[8181.818181818182,60000.0,67513.6,38181.818181818184,2.0,1700.0,48000.0],
[3000.0,20000.0,27585.6,40833.333333333336,1.0,2000.0,36000.0],
[8181.818181818182,20000.0,27820.8,40000.0,2.0,1700.0,49000.0],
[4736.8421052631575,20000.0,24304.0,36000.0,1.0,2000.0,35000.0],
[8181.818181818182,20000.0,28179.2,40833.333333333336,4.0,2000.0,47000.0],
[30000.0,20000.0,29209.6,37333.333333333336,4.0,2000.0,31000.0],
[5625.0,20000.0,28302.399999999998,87500.0,3.0,1700.0,33000.0],
[4500.0,20000.0,19958.4,36166.666666666664,2.0,2000.0,33000.0],
[8181.818181818182,20000.0,22254.4,36590.90909090909,1.0,1700.0,27000.0],
[15000.0,20000.0,27820.8,38500.0,2.0,1700.0,49000.0],
[5000.0,120000.0,111115.2,37058.82352941176,6.0,2000.0,53000.0],
[5294.117647058823,20000.0,27977.600000000002,37500.0,2.0,2000.0,24000.0],
[12857.142857142857,20000.0,25804.8,36842.10526315789,3.0,2000.0,29000.0],
[6000.0,30000.0,35985.600000000006,42000.0,2.0,2000.0,48000.0],
[4736.8421052631575,49999.99999999999,35974.399999999994,35945.94594594595,1.0,1700.0,24000.0],
[9000.0,20000.0,22254.4,38181.818181818184,1.0,1700.0,19000.0],
[4090.909090909091,90000.0,77392.0,36842.10526315789,2.0,2000.0,49000.0],
[1836.734693877551,30000.0,51587.200000000004,36458.333333333336,1.0,1700.0,24000.0],
[6000.0,30000.0,44912.0,46666.666666666664,4.0,2000.0,42000.0],
[5000.0,60000.0,63134.399999999994,36458.333333333336,1.0,2000.0,37000.0],
[4736.8421052631575,15000.0,13081.6,36842.10526315789,2.0,1700.0,19000.0],
[4736.8421052631575,40000.0,41440.0,36000.0,2.0,1700.0,13000.0],
[9000.0,15000.0,17942.399999999998,87500.0,5.0,2000.0,31000.0],
[6923.076923076923,20000.0,28896.0,87500.0,2.0,2000.0,40000.0],
[12857.142857142857,49999.99999999999,43489.6,36060.606060606064,1.0,1700.0,17000.0],
[4090.909090909091,120000.0,114531.20000000001,46666.666666666664,1.0,1500.0,60000.0],
[11250.0,49999.99999999999,50400.0,36060.606060606064,2.0,2000.0,29000.0],
[3461.5384615384614,40000.0,33600.0,36000.0,2.0,1700.0,21000.0],
[5000.0,15000.0,26521.6,37333.333333333336,2.0,2000.0,19000.0],
[5000.0,20000.0,23307.199999999997,37692.307692307695,3.0,2000.0,10000.0],
[6428.571428571428,20000.0,30833.600000000002,37692.307692307695,2.0,1700.0,36000.0],
[6000.0,20000.0,22254.4,36842.10526315789,1.0,2000.0,9000.0],
[9000.0,20000.0,32715.2,37333.333333333336,3.0,2000.0,23000.0],
[6923.076923076923,20000.0,28156.8,37187.5,6.0,2000.0,31000.0],
[2571.4285714285716,20000.0,18480.0,36250.0,2.0,2000.0,21000.0],
[10000.0,150000.0,139440.0,35686.27450980392,1.0,1500.0,25000.0],
[9000.0,75000.0,60513.6,35648.148148148146,4.0,2000.0,25000.0],
[2571.4285714285716,15000.0,27216.0,36093.75,2.0,1700.0,33000.0],
[5294.117647058823,20000.0,43120.0,37187.5,5.0,2000.0,17000.0],
[30000.0,20000.0,31360.0,37058.82352941176,2.0,1700.0,29000.0],
[2093.0232558139537,75000.0,74200.0,36206.89655172414,1.0,1300.0,47000.0],
[3214.285714285714,75000.0,49873.6,35945.94594594595,1.0,1700.0,18000.0],
[7500.0,30000.0,39233.6,87500.0,2.0,2000.0,24000.0],
[6000.0,75000.0,56504.0,36250.0,1.0,1700.0,38000.0],
[9000.0,15000.0,16968.0,36029.41176470588,9.0,2000.0,14000.0],
[6923.076923076923,20000.0,30184.0,36944.444444444445,9.0,2000.0,43000.0],
[6923.076923076923,30000.0,40577.6,87500.0,2.0,1700.0,37000.0]]);

    y = new ML.Matrix([[40000],
[64000],
[130000],
[61000],
[67000],
[70000],
[28000],
[51000],
[82000],
[57000],
[85000],
[60000],
[135000],
[44000],
[40000],
[70000],
[135000],
[70000],
[53750],
[38000],
[45500],
[200000],
[88000],
[62000],
[95500],
[47000],
[73000],
[47800],
[45500],
[58000],
[43000],
[42000],
[260000],
[55000],
[54000],
[76000],
[56500],
[119000],
[340000],
[46500],
[36500],
[154000],
[23000],
[138000],
[38500],
[100000],
[80000],
[56000],
[41000],
[80000],
[55000],
[38000],
[242000],
[78000],
[63000],
[67000],
[59000],
[97500],
[85000],
[93000],
[52000],
[80000],
[62000],
[150000],
[87000],
[78000],
[120000],
[50000],
[93000],
[120000],
[52000],
[172000],
[69000],
[47000],
[65000],
[88000],
[140000],
[43000],
[200000],
[73000],
[63500],
[122000],
[62000],
[76000],
[50500],
[62000],
[92500],
[55000],
[40000],
[54600],
[65000],
[69000],
[52000],
[85000],
[70000],
[115000],
[72000],
[50000],
[135000],
[132000]]);

      //Bước 2
      w = X.transpose().mmul(X).pseudoInverse().mmul(X.transpose()).mmul(y);
      w0 = w.get(0, 0); //Hàng 0 cột 0, bắt đầu đếm từ 0
      w1 = w.get(1, 0); //Hàng 1 cột 0, bắt đầu đếm từ 0
      w2 = w.get(2, 0); //Hàng 2 cột 0, bắt đầu đếm từ 0
      w3 = w.get(3, 0); //Hàng 3 cột 0, bắt đầu đếm từ 0
      w4 = w.get(4, 0); //Hàng 4 cột 0, bắt đầu đếm từ 0
      w5 = w.get(5, 0); //Hàng 4 cột 0, bắt đầu đếm từ 0
      w6 = w.get(6, 0); //Hàng 4 cột 0, bắt đầu đếm từ 0

      console.log(w0,w1,w2,w3,w4,w5,w6);
      //Ứng dụng
      document.write("Predicted: " + 
      (w0 * 10000 + w1 * 20000 + w2 * 28739 + w3 * 39375 + w4 * 3.0 + w5 * 2000 + w6 * 41000).toFixed(0) + " nghìn đôla<br>");
      
    </script>
  </body>
</html>